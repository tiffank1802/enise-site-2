{% extends 'app_core/base.html' %}

{% block content %}
<!-- Hero Section -->
<style>
.hero-gradient {
    background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
}
.enise-text-blue {
    color: #1e3a8a;
}
.enise-blue {
    background-color: #1e3a8a;
}
</style>

<section class="hero-gradient h-[500px] flex items-center">
    <div class="container mx-auto px-4 md:px-12">
        <div class="max-w-2xl text-white">
            <span class="bg-blue-500 text-xs font-bold px-3 py-1 rounded uppercase mb-4 inline-block">
                Admission 2024-2025
            </span>
            <h2 class="text-4xl md:text-6xl font-extrabold mb-6 leading-tight">
                Inventez le monde de demain.
            </h2>
            <p class="text-lg md:text-xl mb-8 font-light text-gray-100">
                Devenez un ingénieur polyvalent formé aux réalités du terrain dans une école à taille humaine.
            </p>
            <div class="flex flex-wrap gap-4">
                <a href="{% url 'formations' %}" 
                   class="bg-white text-blue-900 px-8 py-3 rounded-lg font-bold hover:bg-gray-200 transition shadow-lg">
                    Découvrir nos cursus
                </a>
                <a href="#" class="border-2 border-white text-white px-8 py-3 rounded-lg font-bold hover:bg-white hover:text-blue-900 transition">
                    Visite virtuelle
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Spécialités dynamiques -->
<section class="py-16 container mx-auto px-4 md:px-12">
    <div class="text-center mb-12">
        <h2 class="text-3xl font-bold enise-text-blue mb-4 uppercase tracking-wider">
            Nos Spécialités
        </h2>
        <div class="h-1 w-20 enise-blue mx-auto"></div>
    </div>

    <div class="grid md:grid-cols-3 gap-8">
        {% for specialite in specialites %}
        <div class="bg-white rounded-xl shadow-lg overflow-hidden group hover:shadow-2xl transition duration-300">
            {% if specialite.image_url %}
            <div class="h-48 bg-gray-200 overflow-hidden">
                <img src="{{ specialite.image_url }}" 
                     alt="{{ specialite.nom }}" 
                     class="w-full h-full object-cover group-hover:scale-110 transition duration-500">
            </div>
            {% endif %}
            <div class="p-6">
                <h3 class="font-bold text-xl mb-3 enise-text-blue">{{ specialite.nom }}</h3>
                <p class="text-gray-600 text-sm mb-4">{{ specialite.description|truncatechars:150 }}</p>
                <a href="{% url 'specialite_detail' specialite.slug %}" 
                   class="text-blue-600 font-bold hover:underline">
                    En savoir plus &rarr;
                </a>
            </div>
        </div>
        {% empty %}
        <div class="col-span-3 text-center text-gray-500">
            <p>Aucune spécialité disponible pour le moment.</p>
        </div>
        {% endfor %}
    </div>
</section>

<!-- Statistiques dynamiques -->
<section class="enise-blue text-white py-16">
    <div class="container mx-auto px-4 md:px-12 grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
        {% for stat in statistiques %}
        <div>
            <p class="text-4xl font-bold mb-2">{{ stat.valeur }}{{ stat.suffixe }}</p>
            <p class="text-blue-200 text-sm uppercase">{{ stat.nom }}</p>
        </div>
        {% empty %}
        <div class="col-span-4 text-center">
            <p>Statistiques en cours de chargement...</p>
        </div>
        {% endfor %}
    </div>
</section>

<!-- Actualités -->
{% if actualites %}
<section class="py-16 bg-gray-50">
    <div class="container mx-auto px-4 md:px-12">
        <h2 class="text-3xl font-bold enise-text-blue mb-8 text-center">Actualités</h2>
        <div class="grid md:grid-cols-3 gap-8">
            {% for actu in actualites %}
            <div class="bg-white rounded-lg shadow-md overflow-hidden">
                {% if actu.image %}
                <img src="{{ actu.image.url }}" alt="{{ actu.titre }}" class="w-full h-48 object-cover">
                {% endif %}
                <div class="p-6">
                    <h3 class="font-bold text-lg mb-2">{{ actu.titre }}</h3>
                    <p class="text-gray-600 text-sm mb-4">{{ actu.contenu|truncatechars:100 }}</p>
                    <a href="#" class="text-blue-600 font-bold text-sm">Lire la suite →</a>
                </div>
            </div>
            {% empty %}
            <div class="col-span-3 text-center text-gray-500">
                <p>Aucune actualité disponible pour le moment.</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}
{% endblock %}